<!DOCTYPE html>
<html lang="en">
<head>
<meta charset="UTF-8">
<meta name="viewport" content="width=device-width, initial-scale=1.0">
<title>MSU NEP Result Calculator (with Grace)</title>
<style>
body { font-family: Arial, sans-serif; background:#fffde7; margin:0; padding:10px; }
.tabs { display:flex; justify-content:center; margin:20px 0; }
.tab-btn { background:#fff8dc; border:2px solid #FFC107; color:#FFC107; padding:10px 20px; margin:0 5px; border-radius:8px; font-weight:bold; cursor:pointer; }
.tab-btn.active { background:#FFC107; color:#333; }
.tab-content { display:none; max-width:900px; margin:auto; background:#fffbea; padding:20px; border-radius:12px; box-shadow:0 4px 8px rgba(255,193,7,0.3); }
.tab-content.active { display:block; }
.cta, button { padding:8px 16px; border:none; border-radius:8px; background:linear-gradient(135deg,#FFD95A,#FFC107); font-weight:600; cursor:pointer; transition:.3s; }
.cta:hover, button:hover { transform:scale(1.05); box-shadow:0 0 12px rgba(255,193,7,0.6); }
.rules { background:#fffde7; padding:10px; border:1px solid #ccc; margin:10px 0; border-radius:8px; }
.subject { display:flex; gap:6px; margin:4px 0; }
.subject input { width:50px; }
.pass{color:green;font-weight:bold;} 
.fail{color:red;font-weight:bold;} 
.grace{color:red;} 
.print-btn { margin-top:10px; background:#28a745; color:#fff; }
.print-btn:hover { background:#218838; }
</style>
</head>
<body>

<h1 style="text-align:center">MSU NEP Result Calculator (with Grace)</h1>

<header>
  <nav style="text-align:center; display:flex; justify-content:center; gap:12px;">
    <a href="https://whatsapp.com/channel/0029Va4irjP23n3Vh4HMcx00" class="cta">WhatsApp</a>
    <a href="https://t.me/myMSUSre" class="cta">Telegram</a>
    <a href="https://t.me/HELPforDmbot" class="cta">Contact</a>
  </nav>
</header>

<main class="container">
  <div style="text-align: center; margin: 20px 0; color:#007bff;">
    <b>Note:</b> This is not an Official Website of <b>Maa Shakumbhari University, Saharanpur</b>.  
    "This is for information purposes only. Errors in result calculation are possible."
  </div>
      
  <div style="text-align: center; margin: 20px 0;">
    <h2 style="font-size: 18px; font-weight: bold; color: #2c3e50;">
      Meet Our <span style="color: #007bff;">Admin Team</span>
    </h2>
    <p style="font-size: 16px; color: #555;">
      <b>Aditya Chaudhary</b> (Owner) | <b>Chetan Joshi</b> (Co-Owner) | <b>DM, PC, AP, AM, GS</b> (Admin Team)
    </p>
  </div>

  <!-- Tabs -->
  <div class="tabs">
    <button class="tab-btn active" onclick="openTab('ugTab',event)">UG (B.A./B.Sc./B.Com)</button>
    <button class="tab-btn" onclick="openTab('pgTab',event)">PG (M.A./M.Sc./M.Com)</button>
  </div>

  <!-- UG Section -->
  <div class="tab-content active" id="ugTab">
    <h2>UG NEP Result Calculator</h2>
    <div class="rules">
      <ul>
        <li>Max 5 grace marks</li>
        <li>Grace in max 2 subjects</li>
        <li>Grace Marks will be given in <b>External Theory & Co-Curricular</b> only</li>
        <li>No Grace in Practical/Skill Development/Viva/Project</li>
        <li>Passing: Major/Minor = 25 External & 33 Total</li>
        <li>Passing: Skill/Project/Co-Curricular = 40 Total</li>
      </ul>
    </div>
    <div id="ug-subjects"></div>
    <button onclick="addSubjectUG()">‚ûï Add Subject</button>
    <button onclick="calculateUG()">üìä Calculate UG Result</button>
    <div id="ug-result"></div>
  </div>

  <!-- PG Section -->
  <div class="tab-content" id="pgTab">
    <h2>PG NEP Result Calculator</h2>
    <div class="rules">
      <ul>
        <li>Max 5 grace marks</li>
        <li>Grace in max 2 subjects</li>
        <li>Max 3 grace per subject</li>
        <li>Grace Marks will be given in <b>External Theory</b> only</li>
        <li>No Grace in Practical/Viva/Project</li>
        <li>Passing: Major/Minor = 25 External & 40 Total</li>
        <li>Passing: Project = 40 Total</li>
      </ul>
    </div>
    <div id="pg-subjects"></div>
    <button onclick="addSubjectPG()">‚ûï Add Subject</button>
    <button onclick="calculatePG()">üìä Calculate PG Result</button>
    <div id="pg-result"></div>
  </div>

  <div style="text-align:center; margin:20px 0;">
    <div id="note">This result is only for information purpose. Not valid for admission or official use.</div>
  </div>

  <!-- Whole Page Print Button -->
  <div style="text-align:center; margin:20px 0;">
    <button class="print-btn" onclick="window.print()">üñ®Ô∏è Print</button>
  </div>

</main>

<footer style="text-align:center; margin:20px 0;">
  ¬© 2025 | Designed by Aditya Chaudharyüíó
</footer>

<script>
function openTab(tabId,evt){
  document.querySelectorAll(".tab-btn").forEach(b=>b.classList.remove("active"));
  document.querySelectorAll(".tab-content").forEach(c=>c.classList.remove("active"));
  evt.target.classList.add("active");
  document.getElementById(tabId).classList.add("active");
}

// UG subjects (with Co-curricular & Skill Dev allowed)
function addSubjectUG(){
  const div=document.createElement("div");
  div.className="subject";
  div.innerHTML=`Name:<input type="text" placeholder="Subject">
                 Ext:<input type="number" min="0" max="75">
                 Int:<input type="number" min="0" max="25">
                 Type:<select>
                   <option value="theory">Theory</option>
                   <option value="practical">Practical</option>
                   <option value="project">Project</option>
                   <option value="skill">Skill Development</option>
                   <option value="cocurricular">Co-Curricular</option>
                 </select>
                 <button onclick="this.parentElement.remove()" style="background:#dc3545;color:white;">X</button>`;
  document.getElementById("ug-subjects").appendChild(div);
}

// PG subjects (no Skill Dev, no Co-curricular)
function addSubjectPG(){
  const div=document.createElement("div");
  div.className="subject";
  div.innerHTML=`Name:<input type="text" placeholder="Subject">
                 Ext:<input type="number" min="0" max="75">
                 Int:<input type="number" min="0" max="25">
                 Type:<select>
                   <option value="theory">Theory</option>
                   <option value="practical">Practical</option>
                   <option value="project">Project</option>
                 </select>
                 <button onclick="this.parentElement.remove()" style="background:#dc3545;color:white;">X</button>`;
  document.getElementById("pg-subjects").appendChild(div);
}

// ===== UG Logic =====
function calculateUG(){
  const subs=document.querySelectorAll("#ug-subjects .subject");
  let totalGrace=0, subjectsUsed=0, resultHTML="", overallPass=true;

  subs.forEach(s=>{
    const name=s.querySelector("input[type=text]").value||"Subject";
    let ext=parseInt(s.querySelectorAll("input")[1].value)||0;
    let inte=parseInt(s.querySelectorAll("input")[2].value)||0;
    const type=s.querySelector("select").value;

    let total=ext+inte, passed=false, graceGiven=0;

    if(type==="theory" || type==="cocurricular"){
      if(ext>=25 && total>=33) passed=true;
      else{
        let need=Math.max(25-ext, 33-total);
        if(need<=5 && subjectsUsed<2 && totalGrace+need<=5){
          ext+=need; total+=need; graceGiven=need;
          totalGrace+=need; subjectsUsed++;
          if(ext>=25 && total>=33) passed=true;
        }
      }
    }else{
      if(total>=40) passed=true;
    }

    resultHTML+=`<p>${name}: Ext=${ext}, Int=${inte}, Total=${total} ‚Üí 
    ${passed?"<span class='pass'>PASS</span>":"<span class='fail'>FAIL</span>"} 
    ${graceGiven>0?"<span class='grace'>(Grace +"+graceGiven+")</span>":""}</p>`;
    if(!passed) overallPass=false;
  });

  resultHTML=`<div id="gradeCardUG">`+resultHTML+`<h3>Final Result: 
  ${overallPass?"<span class='pass'>PASS</span>":"<span class='fail'>FAIL</span>"}</h3></div>`;
  document.getElementById("ug-result").innerHTML=resultHTML;
}

// ===== PG Logic =====
function calculatePG(){
  const subs=document.querySelectorAll("#pg-subjects .subject");
  let totalGrace=0, subjectsUsed=0, resultHTML="", overallPass=true;

  subs.forEach(s=>{
    const name=s.querySelector("input[type=text]").value||"Subject";
    let ext=parseInt(s.querySelectorAll("input")[1].value)||0;
    let inte=parseInt(s.querySelectorAll("input")[2].value)||0;
    const type=s.querySelector("select").value;

    let total=ext+inte, passed=false, graceGiven=0;

    if(type==="theory"){
      if(ext>=25 && total>=40) passed=true;
      else{
        let need=Math.max(25-ext, 40-total);
        if(need<=3 && totalGrace+need<=5 && subjectsUsed<2){
          ext+=need; total+=need; graceGiven=need;
          totalGrace+=need; subjectsUsed++;
          if(ext>=25 && total>=40) passed=true;
        }
      }
    }else{
      if(total>=40) passed=true;
    }

    resultHTML+=`<p>${name}: Ext=${ext}, Int=${inte}, Total=${total} ‚Üí 
    ${passed?"<span class='pass'>PASS</span>":"<span class='fail'>FAIL</span>"} 
    ${graceGiven>0?"<span class='grace'>(Grace +"+graceGiven+")</span>":""}</p>`;
    if(!passed) overallPass=false;
  });

  resultHTML=`<div id="gradeCardPG">`+resultHTML+`<h3>Final Result: 
  ${overallPass?"<span class='pass'>PASS</span>":"<span class='fail'>FAIL</span>"}</h3></div>`;
  document.getElementById("pg-result").innerHTML=resultHTML;
}
</script>

</body>
</html>
